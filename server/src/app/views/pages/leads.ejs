<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Leads Table</title>
    <link rel="stylesheet" href="/css/leads.css" />
    <!-- jQuery (compatible with FF28) -->
    <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>

    <!-- jQuery UI -->
    <link
      rel="stylesheet"
      href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css"
    />
    <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>
  </head>
  <body>
    <main class="main">
      <!-- Filter Section -->
      <div>
        <div class="filters">
          <div>
            <label>Sale Date</label>
            <input type="text" class="datepicker" placeholder="dd-mm-yyyy" />
          </div>
          <div>
            <label>From Date</label>
            <input type="text" class="datepicker" placeholder="dd-mm-yyyy" />
          </div>
          <div>
            <label>To Date</label>
            <input type="text" class="datepicker" placeholder="dd-mm-yyyy" />
          </div>
        </div>
        <div class="filter-buttons">
          <button class="btn-green">Search</button>
          <a href="/user/leads" class="reset-link btn-blue">Reset Filters</a>
        </div>
      </div>

      <!-- Status Labels -->
      <h2>LEADS - ALL LEADS</h2>
      <p>Browse list of leads closed by user1.</p>
      <div class="status-labels">
        <% status.forEach(function(item){ %>
        <span
          class="label <%= item.name==='rework/warmup' ? 'label-rework' : 'label-' + item.name %>"
          ><a href="?statusId=<%= item.id %>"><%= item.name %></a></span
        >
        <% }) %>
      </div>
      <!-- Table -->
      <table>
        <thead>
          <tr>
            <th>STATUS</th>
            <th>SALE DATE</th>
            <th>NAME</th>
            <th>PROCESS</th>
            <th>PLAN</th>
            <th>ACTION</th>
          </tr>
        </thead>
        <tbody>
          <% leads.forEach(function(lead){ %>
          <tr>
            <td>
              <span
                class="status-badge <%= lead.status.name==='rework/warmup' ? 'rework' : lead.status.name %>"
                ><%= lead.status.name %></span
              >
            </td>
            <td>Wed Aug 20 2025</td>
            <td>
              <%= lead.title %> <%= lead.firstName %> <%= lead.middleName %> <%=
              lead.lastName %>
            </td>
            <td class="process-name"><%= lead.process.name %></td>
            <td class="plan-name"><%= lead.plan.name %></td>
            <td><button class="action-btn">View Change In Status</button></td>
          </tr>
          <% }) %>
        </tbody>
      </table>
    </main>

    <script>
      $(function () {
        $(".datepicker").datepicker({
          dateFormat: "dd-mm-yy", // same format you wanted
        });
      });
    </script>
  </body>
</html>
