<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Modal (Firefox 28 compatible)</title>
  <style>
    body { font: 16px/1.4 Arial, sans-serif; margin: 40px; }
    .btn {
      display: inline-block; padding: 10px 16px; text-decoration: none;
      background: #1b6ef3; color: #fff; border-radius: 4px;
    }

    /* Modal */
    .modal {
      display: none;
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.5);
      z-index: 9999;
    }
    .modal.active { display: table; width: 100%; height: 100%; }
    .modal__cell { display: table-cell; vertical-align: middle; padding: 20px; }

    .modal__box {
      width: 90%; max-width: 480px; margin: 0 auto;
      background: #fff; border-radius: 6px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.25);
      overflow: hidden; position: relative;
    }
    .modal__header,
    .modal__footer {
      padding: 12px 16px; background: #f5f7fb; border-bottom: 1px solid #e5e8f0;
    }
    .modal__footer { border-top: 1px solid #e5e8f0; border-bottom: 0; }
    .modal__title { margin: 0; font-size: 18px; }
    .modal__body { padding: 16px; }

    /* Close button */
    .modal__close {
      position: absolute; top: 10px; right: 12px;
      text-decoration: none; font-weight: bold; font-size: 18px;
      color: #333; cursor: pointer;
    }
    .modal__actions a {
      display: inline-block; margin-right: 8px; padding: 8px 12px;
      text-decoration: none; border-radius: 4px;
    }
    .btn-primary { background: #1b6ef3; color: #fff; }
    .btn-ghost { background: #e9edf7; color: #1b2a4a; }
  </style>
</head>
<body>

  <!-- Trigger -->
  <a href="#" id="openModal" class="btn">Open Modal</a>

  <!-- Modal -->
  <div id="demoModal" class="modal">
    <div class="modal__cell">
      <div class="modal__box">
        <span class="modal__close" id="closeModal">âœ•</span>
        <div class="modal__header">
          <h2 class="modal__title">Modal Title</h2>
        </div>
        <div class="modal__body">
          <p>This modal works in Firefox 28 with JavaScript handling
             backdrop clicks and the ESC key.</p>
        </div>
        <div class="modal__footer">
          <div class="modal__actions">
            <a href="#" class="btn-ghost" id="cancelBtn">Cancel</a>
            <a href="#" class="btn-primary">Confirm</a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ES5-compatible (works in FF28)
    var openBtn = document.getElementById("openModal");
    var modal   = document.getElementById("demoModal");
    var closeBtn= document.getElementById("closeModal");
    var cancelBtn = document.getElementById("cancelBtn");

    // Open
    openBtn.onclick = function(e) {
      e.preventDefault();
      modal.className = "modal active";
    };

    // Close (button + cancel)
    closeBtn.onclick = cancelBtn.onclick = function(e) {
      e.preventDefault();
      modal.className = "modal";
    };

    // Close on backdrop click
    modal.onclick = function(e) {
      if (e.target === modal) {
        modal.className = "modal";
      }
    };

    // Close on ESC key
    document.onkeydown = function(e) {
      e = e || window.event;
      if (e.keyCode === 27) { // 27 = ESC
        modal.className = "modal";
      }
    };
  </script>

</body>
</html>
